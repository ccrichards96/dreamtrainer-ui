<!doctype html>
<html>
  <head>
    <title>Storyblok Admin</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="text/javascript">
      // Dynamically configure preview URL based on environment
      const hostname = window.location.hostname;
      let previewUrl;

      if (hostname === 'localhost' || hostname === '127.0.0.1') {
        // Local development
        previewUrl = "https://localhost:3010/";
      } else if (hostname.includes('staging')) {
        // Staging environment
        previewUrl = `https://${hostname}/`;
      } else {
        // Production environment
        previewUrl = `https://${hostname}/`;
      }

      STORYBLOK_PREVIEW_URL = previewUrl;
      console.log('Storyblok Preview URL:', previewUrl);
    </script>
    <script
      src="https://app.storyblok.com/f/app-latest.js"
      type="text/javascript"
    ></script>
  </body>
</html>
